<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="627" height="537"><defs/><g><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g><rect fill="white" stroke="none" x="0" y="0" width="627" height="537"/></g><g><text fill="black" stroke="none" font-family="sans-serif" font-size="16.5pt" font-style="normal" font-weight="normal" text-decoration="normal" x="188.58763877116212" y="22.6179738" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">PKI-AUTH: Registration</text></g><g/><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 170.10776172707028 88.511670804 L 170.10776172707028 537.855416964" stroke-miterlimit="10" stroke-width="1.2565541" stroke-dasharray="11.598960923076923,5.0262164"/><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 479.9008364329296 88.511670804 L 479.9008364329296 537.855416964" stroke-miterlimit="10" stroke-width="1.2565541" stroke-dasharray="11.598960923076923,5.0262164"/></g><g><path fill="none" stroke="none"/><g><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 133.58909452036326 47.799317964000004 L 206.62642893377733 47.799317964000004 L 206.62642893377733 88.511670804 L 133.58909452036326 88.511670804 L 133.58909452036326 47.799317964000004 Z" stroke-miterlimit="10" stroke-width="2.4125838720000004" stroke-dasharray=""/></g><g><g/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="149.94942890236325" y="73.43302160400002" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">client</text></g><path fill="none" stroke="none"/><g><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 440.3071684632831 47.799317964000004 L 519.4945044025761 47.799317964000004 L 519.4945044025761 88.511670804 L 440.3071684632831 88.511670804 L 440.3071684632831 47.799317964000004 Z" stroke-miterlimit="10" stroke-width="2.4125838720000004" stroke-dasharray=""/></g><g><g/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="456.66750284528314" y="73.43302160400002" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">server</text></g></g><g><g><g><rect fill="white" stroke="none" x="223.775834524707" y="118.668969204" width="202.45692911058595" height="19.602243960000003"/></g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="226.03763190470698" y="132.239753484" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Requests registration page</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 170.10776172707028 138.27121316400002 L 477.38772823292965 138.27121316400002" stroke-miterlimit="10" stroke-width="1.2565541" stroke-dasharray=""/><g transform="translate(479.9008364329296,138.27121316400002) translate(-479.9008364329296,-138.27121316400002)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 467.3352954329296 131.98844266400002 L 479.9008364329296 138.27121316400002 L 467.3352954329296 144.55398366400001 Z"/></g></g><g><g><rect fill="white" stroke="none" x="211.23417040117184" y="160.889186964" width="227.54025735765626" height="19.602243960000003"/></g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="213.49596778117183" y="174.459971244" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Registration form [UDAP form]</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 479.9008364329296 180.491430924 L 172.6208699270703 180.491430924" stroke-miterlimit="10" stroke-width="1.2565541" stroke-dasharray="6.03145968"/><g transform="translate(170.10776172707028,180.491430924) translate(-170.10776172707028,-180.491430924)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 182.67330272707028 174.20866042400002 L 170.10776172707028 180.491430924 L 182.67330272707028 186.774201424 Z"/></g></g><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 7.5393246000000005 203.109404724 L 319.1054145741406 203.109404724 L 332.6761988541406 216.680189004 L 332.6761988541406 313.183543884 L 7.5393246000000005 313.183543884 L 7.5393246000000005 203.109404724 M 319.1054145741406 203.109404724 L 319.1054145741406 216.680189004 L 332.6761988541406 216.680189004" stroke-miterlimit="10" stroke-width="1.2565541" stroke-dasharray=""/><g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="28.64943347999997" y="224.21951360400004" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">1. Fills the Registration form </text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="28.64943347999997" y="239.29816280400004" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">2. Downloads generated JSON-ld docs:</text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="28.64943347999997" y="254.37681200400004" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">    </text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="bold" text-decoration="normal" x="47.31609951088376" y="254.37681200400004" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">UserDoc.json</text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="155.98276363441892" y="254.37681200400004" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve"> and </text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="bold" text-decoration="normal" x="192.91609798500485" y="254.37681200400004" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Crypto.json</text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="28.64943347999997" y="269.455461204" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">3. Stores these documents in</text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="28.64943347999997" y="284.534110404" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">    user-agent or local device</text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="28.64943347999997" y="299.61275960399996" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">4. User presses the </text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="bold" text-decoration="normal" x="174.89943347999997" y="299.61275960399996" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">signup</text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="230.5661014182324" y="299.61275960399996" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve"> button. </text></g><g><g><rect fill="white" stroke="none" x="187.95082994707028" y="335.80151768400003" width="120.29026498705078" height="19.602243960000003"/></g><g><rect fill="white" stroke="none" x="187.95082994707028" y="350.880166884" width="274.10693826585936" height="19.602243960000003"/></g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="190.21262732707027" y="349.37230196400003" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Signup request.</text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="190.21262732707027" y="364.450951164" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Params: {publicKey, sha3(userDoc)}</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 170.10776172707028 370.482410844 L 477.38772823292965 370.482410844" stroke-miterlimit="10" stroke-width="1.2565541" stroke-dasharray=""/><g transform="translate(479.9008364329296,370.482410844) translate(-479.9008364329296,-370.482410844)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 467.3352954329296 364.199640344 L 479.9008364329296 370.482410844 L 467.3352954329296 376.76518134400004 Z"/></g></g><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 340.2657260270507 393.10038464400003 L 605.9651625588085 393.10038464400003 L 619.5359468388085 406.671168924 L 619.5359468388085 442.85992700400004 L 340.2657260270507 442.85992700400004 L 340.2657260270507 393.10038464400003 M 605.9651625588085 393.10038464400003 L 605.9651625588085 406.671168924 L 619.5359468388085 406.671168924" stroke-miterlimit="10" stroke-width="1.2565541" stroke-dasharray=""/><g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="361.3758349070507" y="414.21049352400007" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Server stores publicKey and</text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="361.3758349070507" y="429.28914272400004" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">sha3(userDoc) in the user table.</text></g><g><g><rect fill="white" stroke="none" x="242.25917192705074" y="465.47790080400006" width="165.49025430589845" height="19.602243960000003"/></g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="244.52096930705073" y="479.0486850840001" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Signup Response. OK.</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 479.9008364329296 485.08014476400007 L 172.6208699270703 485.08014476400007" stroke-miterlimit="10" stroke-width="1.2565541" stroke-dasharray="6.03145968"/><g transform="translate(170.10776172707028,485.08014476400007) translate(-170.10776172707028,-485.08014476400007)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 182.67330272707028 478.79737426400004 L 170.10776172707028 485.08014476400007 L 182.67330272707028 491.3629152640001 Z"/></g></g></g><g/><g/></g></svg>